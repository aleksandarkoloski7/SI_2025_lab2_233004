# Втора лабораториска вежба по Софтверско инженерство
## Александар Колоски, бр. на индекс 233004
### Control Flow Graph

![lab2-233004](https://github.com/user-attachments/assets/440dc351-4ffc-4462-9bd0-ead61576d946)

### Цикломатска комплексност 
Циколматска комплексност на кодот кој е даден во прилог е 9, таа бројка ја добив преку бројот на региони прикажани на CFG. Постои и друг начин за откривање на цикломатска комплексност преку бројот на предикатните јазили односно со формулата P+1. Исто така можеме да пресметаме и со уште една формула бројот на ребра-јазли+2 (E-N+2) 33-26+2=9.

### Тест случаи според критериум Every Statement 
 + Тест случај 1: `allItems=null,cardNumber=""` - Објаснување: Преку овој тест случај се покриени линиите 1,2,3,4. Кај проверката if(allItems==null) се добива резултат True и во линија 2 се фрла exception:"allItems list can't be null!".
 + Тест случај 2: `allItems=List.of(new Item("",20,150,0.0)),cardNumber=""` - Објаснување: Преку овој тест случај се покриени 1,2,3,6,7.1,7.2,8,9,10. Условот if(allItems==null) се добива false па не влегува во линија 4. Продолжува на линија 6. Потоа оди во for-от каде се прави иницијализација 7.1 и проверка i<allItems.size() т.е линија 4.2. Влегува внатре во for-от се извршуваат линиите 8 и 9. Во линија 9 условот if(item.getName()==null||item.getName().length()==0)ќе биде true бидејќи името на мојот item во овај тест случај има должина 0. Ќе влезе во линија 10 и фрла exception: "Invaild item!".
 + Тест случај 3: `allItems=List.of(new Item("Computer",15,450,0.0)),cardNumber=0123456789763247` - Објаснување: Преку овој тест случај се покриени линиите 1,2,3,6,7.1,7.2,8,9,12,13,19,7.3,22,23,24,25.1,25.2,26,27,25.3,35 . Кај условот if(allItems==null) се добива false па не влегува во линија 4. Продолжува на линија 6. Па оди во for циклусот каде се извршува иницијализацијата 7.1 и проверката i<allItems.size() т.е 7.2. Влегува во for-от се извршуваат линија 8 и 9. Во линија 9, if(item.getName()==null||item.getName().length()==0) ќе даде false бидејќи името на мојот item во овој тест случај не е null и должината не е 0. Ќе продолжи на линија 12 каде условот if (item.getPrice()>300||item.getDiscount()>0||item.getQuantity()>10) ќе биде true бидејќи во мојот item имам price==450 и quantity==15 но не е битно бидејќи имаме или во if-от. Оди на линија 13. Потоа во линија 15 условот if(item.getDiscount()>0) ќе даде false бидејќи во мојот item имам discount==0.0. Оттука ќе продолжи во else односно линија 19. Па ќе се врати на 7.3 т.е инкрементот на for-от. Потоа надвор од for-от оди во 22, каде што условот if(cardNumber!=null&&cardNumber.length()==16) ќе биде true бидејќи cardNumber во овој тест случај не е null т.е е со должина 16. Се извршуваат линија 23, 24, и повторно има for циклус каде ќе се извршат иницијализацијата 25.1, и условот j<cardNumber.length() т.е. 25.2. Ќе влезе во циклусот, ќе се извршат 26, 27, но нема да влезе во линија 28 бидејќи сите карактери од cardNumber се валидни. Соодветно се враќа и на 25.3. Нема да влезе во линија 33. Ќе оди на линија 35 кадешто ќе го врати резултатот. Тука се извршува целиот блок на наредби и се добива резултат без exception.
 + Тест случај 4: `allItems=List.of(new Item("Computer",20,450,0.3)), cardNumber="93285983985"` - Објаснување: Преку овој тест случај се покриени линиите 1,2,3,6,7.1,7.2,8,9,12,13,15,16,7.3,22,33. Кај условот if(allItems==null) се добива false па не влегува во линија 4. Продолжува на линија 6. Па оди во for циклусот каде се извршува иницијализацијата 7.1 и проверката i<allItems.size() т.е 7.2. Влегува во for-от се извршуваат линија 8 и 9. Во линија 9, if(item.getName()==null||item.getName().length()==0) ќе даде false бидејќи името на мојот item во овој тест случај не е null и должината не е 0. Ќе продолжи на линија 12 каде условот if (item.getPrice()>300||item.getDiscount()>0||item.getQuantity()>10) ќе биде true бидејќи во мојот item имам price==450 и quantity==15 но не е битно бидејќи имаме или во if-от. Оди на линија 13. Потоа во линија 15 условот if(item.getDiscount()>0) ќе даде true бидејќи во мојот item имам discount==0.3. Оттука продолжува во линија 16. Ќе се врати на инкрементот во for циклусот линија 7.3. Потоа оди во линија 22 го проверува условот if(cardNumber!=null&&carNumber.length()==16)ќе биде false бидејќи cardNumber во овој тест случај не е null, но ја нема бараната должина 16.Ќе оди во else т.е линијата со број 33 и ќе фрли exception:"Invalid card number!".
 + Тест случај 5: `allItems=List.of(new Item("Computer",15,450,0.3)),cardNumber=aleksandar@#4213` - Објаснување: Преку овој тест случај се покриени линиите 1,2,3,6,7.1,7.2,8,9,12,13,15,16,7.3,22,23,24,25.1,25.2,26,27,28. Кај условот if(allItems==null) се добива false па не влегува во линија 4. Продолжува на линија 6. Па оди во for циклусот каде се извршува иницијализацијата 7.1 и проверката i<allItems.size() т.е 7.2. Влегува во for-от се извршуваат линија 8 и 9. Во линија 9, if(item.getName()==null||item.getName().length()==0) ќе даде false бидејќи името на мојот item во овој тест случај не е null и должината не е 0. Ќе продолжи на линија 12 каде условот if (item.getPrice()>300||item.getDiscount()>0||item.getQuantity()>10) ќе биде true бидејќи во мојот item имам price==450 и quantity==15 но не е битно бидејќи имаме или во if-от. Оди на линија 13. Потоа во линија 15 условот if(item.getDiscount()>0) ќе даде false бидејќи во мојот item имам discount==0.0. Оттука ќе продолжи во else односно линија 19. Па ќе се врати на 7.3 т.е инкрементот на for-от. Потоа надвор од for-от оди во 22, каде што условот if(cardNumber!=null&&cardNumber.length()==16) ќе биде true бидејќи cardNumber во овој тест случај не е null т.е е со должина 16. Се извршуваат линија 23, 24, и повторно има for циклус каде ќе се извршат иницијализацијата 25.1, и условот j<cardNumber.length() т.е. 25.2. Ќе влезе во циклусот, ќе се извршат 26, 27, ќе влезе во линија 28 бидејќи cardNumber променливата започнува со буква и одма ќе падне. Во 28 линија ќе фрли exception:"Invalid character in card number!".

### Тест случаи според критериум Multiple Condition за условот if(item.getPrice()>300||item.getDiscount()>0||item.getQuantity()>10
За да се постигне овај критериум потребни се минимум 4 тест случаи.Ова е така бидејќи со Lazy Evaluation методот ќе се елиминираат некои од комбинациите од табелата. Место да имаме 8=2^3 комбинации ќе имаме само 4. Па во прилог би ги имале следните тест случаи:

 + TXX:`allItems=List.of(new Item("Computer",15,450,0.0)),cardNumber=0123456789763247` - Објаснување: Условот кој е составен од 3под-услови се оделени со ||(или) операцијата. Тоа значи дека во првиот случај доволно е само item.getPrice()>300 за да биде целиот израз true. Останатите две можности не играат улога дали ќе бидат true или false.
 + FTX:`allItems=List.of(new Item("Computer",15,250,0.5)),cardNumber=0123456789763247` - Објаснување: Во вториот случај ќе земеме item.getPrice()>300 да е false, item.getDiscount()>0 да биде true така што целиот израз ќе биде true. Третиот подуслов не игра улога дали ќе биде true/false.
 + FFT:`allItems=List.of(new Item("Computer",15,250,0.0)),cardNumber=0123456789763247` - Објаснување: Во третиот случај ќе земеме првиот подуслов да е false, вториот подуслов исто да е false, и третиот да биде true, што значи целиот израз ќе биде true на крај.
 + FFF:`allItems=List.of(new Item("Computer",7,250,0.0)),cardNumber=0123456789763247` - Објаснување: Во четвртиот случај ќе земеме вредности помали од дозволеното со цел целиот if-услов да е false.
Овие тест слчуаеви според критериумот Multiple Condition за горенаведениот услов ги пробав и во алатката Gradle со помош на assert изрази и сите тест случаи ми поминаа. 
